<!DOCTYPE html>
<html>
	<head>
		<title>DOMContentLoaded</title>

		<script type="text/javascript">
			document.addEventListener('DOMContentLoaded', async function() {
				await new Promise(resolve => {
					const id = setInterval(() => {
						// intervals are not tracked, so it's a good way
						// to be sure another tracker is not counting it
						clearInterval(id);
						document.querySelector('.me').innerHTML = 'tu' + 'tu';
						resolve();
					}, 500);
				});
				await Promise.resolve("a").then(function(v) { return v; })
			}, false);
		</script>
	</head>
	<body>
		<div class="me">tata</div>
	</body>
</html>
